自动管理数据监控和手段监控结合

注意前端的配置文件可以用 
 target: 'http://www.yc01.top:5179', // Proxy target for the local backend service.


手动向量化数据库
cd C:\Users\GLY-PC\Documents\CODE\project\SmartINF
streamlit run sminf.py
streamlit run sminf.py


启动自动监控文件夹备份功能

cd  C:\Users\GLY-PC\Documents\CODE\project\INFV4\backend

flask watch

cd C:\Users\GLY-PC\Documents\CODE\project\INFV4\backend

flask watch-nomic




## 完整工作流程
1. 设置环境变量 ：在 .env 中配置 KNOWLEDGE_BASE_DIR
2. 创建目录 ：在指定路径下创建 kb_nomic 文件夹
3. 初始化数据 ：运行 flask ingest 创建知识库
4. 启动监控 ：运行 flask watch-nomic 开始监控
5. 添加文件 ：将 .txt 和 .md 文件放入 kb_nomic 目录


第一个知识库（原有）：

- 路径： D:/参考资料备份/TXT参考文件/kb_qwen_0_6b/
- 监控命令： flask watch

第二个知识库（新增）：

- 路径： D:\WPS文档\304469991\WPS云盘\YCWPS\文件阶段终版\kb_nomic\
- 监控命令： flask watch-nomic





启动一次性全面备份(不推荐使用),   不如使用 streamlit run sminfy.py
flask  ingest
还有一个是使用 
cd C:\Users\GLY-PC\Documents\CODE\project\SmartINF>

streamlit run sminf.py

streamlit run  sminf.py


tessOCR 可以处理OCR

向量数据库需要使用ollama 11434 端口    

# 1. VITE_API_BASE_URL
# 在开发模式下（npm run dev），这个变量会被忽略，保持为空即可。
#  VITE_API_BASE_URL=

# 2. VITE_API_TARGET
# 这是前端(5178) 连接 后端(5179) 的目标地址。
# 如果后端在同一台电脑上，用 localhost 最快最稳定：
# VITE_API_TARGET=http://localhost:5179

# 如果你想强制通过域名连接（测试外网连通性），可以改成：
# VITE_API_TARGET=http://www.yc01.top:5179




一些其他的配置，
# .env

# --- Gemini API ---
#GEMINI_API_KEY="AIzaSyAwyVWmVwsKq-D_2j8CnTmbnSx48Bkm7CE"
GEMINI_API_KEY="AIzaSyDbkIxfS8NwLXFbO_4ifKV0X0znDXmWfmc"
# 前端 Vite 可能需要的配置 (保持一致)
#VITE_GEMINI_API_KEY="AIzaSyAwyVWmVwsKq-D_2j8CnTmbnSx48Bkm7CE"
#VITE_GEMINI_MODEL="gemini-2.5-flash"

# --- 阿里云 (通义千问) ---
# 后端代码目前读取的是 ALI_API_KEY，这里进行映射
#ALI_API_KEY="sk-f16431c2ad9b4ffc91c514e917baa8dc"
#DASHSCOPE_API_KEY="sk-f16431c2ad9b4ffc91c514e917baa8dc"

# --- Milvus 向量数据库 ---
MILVUS_HOST=localhost
#MILVUS_HOST==www.yc01.top
MILVUS_PORT=19530

# --- Ollama AI 服务 ---
# 注意：如果你是在本地运行 Ollama，建议使用 http://127.0.0.1
# 如果 www.yc01.top 是远程服务器，请确保该服务器防火墙开放了 11434 端口
#OLLAMA_HOST=http://www.yc01.top
OLLAMA_HOST=http://127.0.0.1
OLLAMA_PORT=11434

# --- 知识库路径 (Windows) ---
# 使用正斜杠 / 避免转义问题
KNOWLEDGE_BASE_DIR="D:/参考资料备份/TXT参考文件"
KNOWLEDGE_BASE_DIR_NOMIC="D:/WPS文档/304469991/WPS云盘/YCWPS/文件阶段终版"

# --- 系统配置 ---
INGEST_WORKERS=8
CHUNK_SIZE=500
CHUNK_OVERLAP=50